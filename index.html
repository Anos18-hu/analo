<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>نظام تحليل البيانات المتقدمة</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Tajawal', sans-serif;
      }
      
      @media print {
        @page {
          size: A4;
          margin: 10mm;
        }
        
        /* Reset Body/Root for print */
        body, #root, main {
          width: 100% !important;
          height: auto !important;
          overflow: visible !important;
          background-color: white !important;
          color: black !important;
          margin: 0 !important;
          padding: 0 !important;
        }
        
        /* Typography adjustments for A4 */
        body {
          font-size: 11pt !important;
          line-height: 1.3;
        }

        h1, .text-4xl, .text-3xl {
          font-size: 20pt !important; 
          font-weight: 800 !important;
          margin-bottom: 10pt !important;
        }

        h2, .text-2xl {
          font-size: 16pt !important; 
          font-weight: 700 !important;
          margin-bottom: 8pt !important;
        }
        
        h3, .text-xl {
          font-size: 14pt !important;
          font-weight: 600 !important;
          margin-bottom: 6pt !important;
        }

        /* High contrast tables for print */
        table {
          width: 100% !important;
          border-collapse: collapse !important;
          border: 2px solid #000 !important;
          margin-bottom: 10pt !important;
        }
        
        th, td {
          border: 1px solid #000 !important;
          padding: 4pt 6pt !important;
          font-size: 10pt !important;
          color: #000 !important;
        }

        th {
            background-color: #f3f4f6 !important; 
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
        }
        
        /* Ensure charts print */
        body {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }

        /* Utilities */
        .no-print, header, footer, button, .hidden-print {
          display: none !important;
        }
        
        .print\:block { display: block !important; }
        .print\:flex { display: flex !important; }
        .print\:hidden { display: none !important; }
        .print\:grid { display: grid !important; }

        /* Layout fixes - Remove block overrides to support Grid */
        .container { width: 100% !important; max-width: none !important; padding: 0 !important; }
        
        /* Break control */
        tr { break-inside: avoid; page-break-inside: avoid; }
        .page-break-inside-avoid { break-inside: avoid; page-break-inside: avoid; }
        .page-break-before { break-before: page; page-break-before: always; }
        
        /* Shadows & Borders cleanup */
        .shadow-sm, .shadow-lg, .shadow-xl { box-shadow: none !important; }
        .border { border-color: #000 !important; }
      }

      /* PDF Export Simulation Mode */
      .pdf-export-mode {
        background-color: white !important;
        color: black !important;
        width: 1200px !important; /* Fixed width to simulate A4 ratio on canvas */
        min-height: 100vh;
        margin: 0 auto !important;
        padding: 20px 40px !important;
        position: relative !important;
        z-index: 9999;
      }
      
      .pdf-export-mode .print\:block { display: block !important; }
      .pdf-export-mode .print\:hidden { display: none !important; }
      .pdf-export-mode .no-print { display: none !important; }
      
      /* Enforce border contrast in PDF mode */
      .pdf-export-mode table, .pdf-export-mode th, .pdf-export-mode td {
          border-color: #000 !important;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.2",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.2/",
    "react/": "https://aistudiocdn.com/react@^19.2.2/",
    "xlsx": "https://aistudiocdn.com/xlsx@^0.18.5",
    "recharts": "https://aistudiocdn.com/recharts@^3.5.1",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.560.0",
    "html2canvas": "https://aistudiocdn.com/html2canvas@^1.4.1",
    "jspdf": "https://aistudiocdn.com/jspdf@^2.5.1"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-slate-50 text-slate-900 min-h-screen flex flex-col">
    <div id="root" class="flex-grow flex flex-col"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>